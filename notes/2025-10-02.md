---
jupytext:
  text_representation:
    extension: .md
    format_name: myst
    format_version: 0.13
    jupytext_version: 1.17.2
kernelspec:
  display_name: Python 3 (ipykernel)
  language: python
  name: python3
---

# Sharing Results

This website is build using [mystmd](https://mystmd.org/guide). 

It allows me to post jupyter notebooks (which I have also converted to markdown files using [jupytext](http://jupytext.readthedocs.io/en/latest/using-cli.html) to make them easier to manage with {term}`git`) to the website easily.  I put the files in a repository and then the `mystmd` tool runs all of the code in the notebook and renders the markdown together into HTML for the website.  It makes all of the links and everything automatically. 


mystmd is designed to make pubslishing data-intensive results easier, with a better reading experience.  

For example, I have glossary file in the repository too, see the [raw file on github](https://github.com/rhodyprog4ds/BrownFall25/blob/main/resources/glossary.md) that creates the [glossary page](../resources/glossary.md) on the site.  However when you are reading and I use a term like {term}`GitHub` or {term}`git` you can see the definition without having to change pages.  

myst is a free, open tool, that you can use too! 

And it works in [live notebooks](https://mystmd.org/guide/quickstart-jupyter-lab-myst#install-jupyterlab-myst) too! 


:::::{attention}
For this to work, install myst

```bash
!pip install mystmd
```

**and** the jupyterlab myst extention
```bash
!pip install jupyterlab_myst
```


then restart your kernel (or the whole jupyter lab).

If you have trouble, see the docs for:
- [myst](https://mystmd.org/guide/installing)
- [jupyter lab myst extension](https://mystmd.org/guide/quickstart-jupyter-lab-myst#install-jupyterlab-myst)

:::::::

:::::::::{margin}
::::{important}
In class I forgot about the jupyter lab myst extension. This should make it work if it did not yet. 
:::::
:::::::::


The main box above, we made in class, it is called a directive, and specifically an `attention` admonition

To make one, in a markdown cell use colons(`:` ) to make a "fence" around the block and label it with a [valid admonition type](xref:myst/admonitions#admonitions-list) in `{}`: 

:::::::::{tab-set}
:::::::{tab} Myst

````myst
:::::{attention}
This will be important
::::::
````
:::::::
:::::::{tab} Rendered

:::::{attention}
This will be important
:::::
:::::::
:::::::::


::::{note}
Above I linked to the myst docs using a special cross referencing syntax that allows it to pull the information from that other website (since it is also made with myst) into hover text. 
```
[valid admonition type](xref:myst/admonitions#admonitions-list)
```

mystmd has some nice features
::::


In markdown cells, we can even have syntax highligting of non-executable code: 

:::::{tab-set}
:::{tab} Myst
````

```Python
import pandas as pd
```
````
:::
:::{tab} Rendered


```Python
import pandas as pd
```
:::
::::::

## Preview of the COMPAS Data

:::::{seealso}
Read the [Machine Bias](https://www.propublica.org/article/machine-bias-risk-assessments-in-criminal-sentencing) article if you have not already. It's not a technical article, just a news article.  There are more technical details linked if you are curious. 

::::::::


```{code-cell} ipython3
import pandas as pd
from sklearn import metrics
import seaborn as sns
```

If `sklearn` does not load install with:
```bash
pip install scikit-learn
```

:::::{margin}
::::{tip}
Since I do not need that install line to run in the website, I made it in a markdown cell, but used code formatting for it
::::
:::::::

Now we will load a cleaned version of the data: 

```{code-cell} ipython3
compas_clean_url = 'https://raw.githubusercontent.com/ml4sts/outreach-compas/main/data/compas_c.csv'
compas_df = pd.read_csv(compas_clean_url)
```

```{code-cell} ipython3
compas_df.head(3)
```

(onehot)=
## One Hot Encoding

One hot encoding is a way of transforming categorical variables with multiple values into binary values.  So if we have one column with $x$ values in it, in one hot encoding we will have $x$ columns that are all binary (0/1 or True/False).  In those $x$ columns exactly one will be a True in each row.  


To see what one hot encoding looks like, we will apply it first to just the one column. 

(onehot:before:after)=
:::::{tab-set}

:::{tab} Categorical Data 

```{code-cell} ipython3
compas_df[['score_text']].head()
```
:::
:::{tab} One Hot Encoded 
```{code-cell} ipython3
pd.get_dummies(compas_df['score_text']).head()
```
:::
::::::

```{code-cell} ipython3
compas_df_clean = pd.get_dummies(compas_df, columns=['score_text'])
```

```{code-cell} ipython3
compas_df_clean.head(2)
```

How many people received a 'High' score?

```{code-cell} ipython3
high_counts = compas_df_clean['score_text_High'].value_counts()
high_counts
```

+++ {"user_expressions": [{"expression": "str(high_counts[True])", "result": {"data": {"text/plain": "'1068'"}, "metadata": {}, "status": "ok"}}]}

{eval}`str(high_counts[True])` people got a high score

(note)=
:::::{note}
this uses a the myst `{eval}`
::::::

+++

I wrote a [note](#note)

```{code-cell} ipython3

```

## Programatic tools for accessing data


### UCI Repo

### HuggingFace :hugs: 