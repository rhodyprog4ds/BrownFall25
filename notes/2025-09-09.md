---
jupytext:
  text_representation:
    extension: .md
    format_name: myst
    format_version: 0.13
    jupytext_version: 1.17.2
kernelspec:
  display_name: Python 3 (ipykernel)
  language: python
  name: python3
---

# Python Review



## Closing Jupyter server.

In the terminal use Ctrl+C (actually control, not command on mac).

It will ask you a question and give options, read and follow 


**or**

do ctrl+C a second time. 

A jupyter server typically runs at `localhost:8888`, but if you have multiple servers running the count increases. 


Once I saw a student in office hours working on `localhost:8894` asking why their code kept crashing.

```{important}
Remember to close your jupyter server
```

+++

## Functions

```{code-cell} ipython3
def greeting(name):
    '''
    greet the person named
    '''
    print('hello', name)
```

```{code-cell} ipython3
help(greeting)
```

```{code-cell} ipython3
greeting('sarah')
```

Is this a good function?

if not, how could it be better?

```Python
def greeting(name):
    '''
    greet the person named
    '''
    print('hello', name)
```

```{code-cell} ipython3
def greeting(name):
    '''
    greet the person named
    '''
    return 'hello ' + name
```

```{code-cell} ipython3
greeting('sarah')
```

```{code-cell} ipython3
type(greeting('sarah'))
```

```{code-cell} ipython3
import example
```

```{code-cell} ipython3
example.greeting('sarah')
```

```{code-cell} ipython3
help(example.greeting)
```

## Conditionals

```{code-cell} ipython3
name = 'sarah'
```

```{code-cell} ipython3
if len(name) < 5:
    print('short')
else:
    print('long')
```

## Iterables

::::{important}
The term iterable, below is treated as a glossary entry. Hover over it to see the definition, without having to leave the page. 
::::


strings are {term}`iterable` type, meaning that theycan be indexed into, or their elements iterated over.  For a more technical definition, see the [official python glossary entry](https://docs.python.org/3/glossary.html#term-iterable)


```{code-cell} ipython3
type(name)
```


we can select one element
```{code-cell} ipython3
name[0]
```

negative numbers count from the right. 
```{code-cell} ipython3
name[-1]
```

or multiple, this is called a {term}`slice` or slicing.  
```{code-cell} ipython3
name[1:3]
```

notice that the string, {eval}`name`, the characters in positions 1,2,3 would be 
{eval}`name[1]` 

```{code-cell} ipython3
name[3]
```

### lists

Lists are defined with `[]`
```{code-cell} ipython3
ages = [25,34,64,24,56,23,45,48]
```

we can index them as well
```{code-cell} ipython3
a= ages[2]
a
```

We will transform this to ranges. 

First lets figure out how to calculate the lower nubmer of the range. 
```{code-cell} ipython3
str(int((a-5)/10)*10+5)
```

now the upper
```{code-cell} ipython3
str(int((a+5)/10)*10+4)
```

(lambdaex)=
We can make a small function to make this more concise.  This is called a {term}`lambda` or {term}`anonymous function`. 

It is a compact function 

```{code-cell} ipython3
lb = lambda a: str(int((a-5)/10)*10+5)
```

It is equivalant to the following: 

```Python
def lb(a):
    return str(int((a-5)/10)*10+5)
```

we can use it like any other function
```{code-cell} ipython3
lb(73)
```

we will make one for the upper bound as well
```{code-cell} ipython3
ub = lambda a: str(int((a+5)/10)*10+4)
```


Then we can apply it as a loop with a [list comprehension](https://docs.python.org/3/tutorial/datastructures.html#list-comprehensions). 

```{code-cell} ipython3
age_bins = ['-'.join([lb(a),ub(a)]) for a in ages]
age_bins
```

The above is equivalent to a longer loop. 

```{code-cell} ipython3
age_bins = []

for a in ages: 
    age_bins.append('-'.join([lb(a),ub(a)]))
```

The comprehension has the advantage of Python knowing the length in advance and behinng visually more compact


What if we had a longer age list and we wanted to put the labels above only for ages 25-65 and otherwise put <25 or >65? 


```{code-cell} ipython3
ages = [25,34,64,24,56,23,45,48,99,76,21, 23,56,37,40]
```

We can use conditionals to get the true or false value
```{code-cell} ipython3
a = 24
a<25, int(a<25)
```
:::::{margin}
:::{note}
here I added some extra detail relative to in class
:::
:::::

we can use the `int` function to cast the boolean to an integer


```{code-cell} ipython3
type(a<25), type(int(a<25))
```

```{code-cell} ipython3
a = 38
a<25, int(a<25)
```


```{code-cell} ipython3
a>65
```

```{code-cell} ipython3
(a<25)*-1 + int(a>65)
```

```{code-cell} ipython3
age_bin_dict = {-1:lambda a:'<25',0:lambda a: '-'.join([lb(a),ub(a)]),
                1:lambda a:'65+'}
```

```{code-cell} ipython3
age_bin_dict
```

```{code-cell} ipython3
[age_bin_dict[(a<25)*-1 + int(a>65)](a) for a in ages]
```

```{code-cell} ipython3

```


## Questions


How do I add words into the table of contents? 

• what are the uses for lambda besides the examples we did?

• a little fast

• n/a (✕2)

• how can I practice coding this lists 

• these *

• a little slow

• could you provide an example of using lambda and [age_bin_dict[(a<25)*-1 + int(a>65)] (a) for a in ages] with things other than integers? Like instead of ages what if it were just words?

• in python isnt it possible to separate code onto multiple lines for readability sakes?

• in what cases should switch be used instead of dictionary

• just using these compact functions. like you said theres a lot going on in a short amount of code so just a little hard to understand

• Just more practice on these sort of expressions : age_bins = {-1:lambda a:'<25', 0:lambda a: '-'.join([lb(a),ub(a)]), 1:lambda a:'65+'}


• More clarification on dictionaries and how to use them 

### How can i practice or know more about writing functions like what we did today

For example with this piece: 
```{code-cell} ipython3
['-'.join([lb(a), ub(a)]) for a in ages]
```

One way to understand it better is to run the separatie parts of it one at a time. 

So, for example by removing the `'-'.join()` we get a list of lists instead
```{code-cell} ipython3
[[lb(a), ub(a)] for a in ages]
```

We can make a plain loop too:
```{code-cell} ipython3
[a for a in ages]
```

```{code-cell} ipython3
[a for a in ages] == ages
```


### what would be best way to learn to get more comfortable writing in juypiter?

Practice! 

You can follow along in class and you can go back after class and add more detail to your own notes. 


